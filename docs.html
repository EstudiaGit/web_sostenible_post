<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentación API - Posts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {},
        },
      };
    </script>
    <style>
      @layer utilities {
        .active-endpoint {
          background-color: rgb(51 65 85);
          border-left: 4px solid rgb(59 130 246);
        }
      }
    </style>
  </head>
  <body
    style="
      margin: 0;
      padding: 0;
      background: linear-gradient(
        135deg,
        rgb(15 23 42),
        rgb(30 41 59),
        rgb(15 23 42)
      );
      color: white;
      min-height: 100vh;
    "
  >
    <div style="padding: 1.5rem">
      <div style="max-width: 72rem; margin: 0 auto">
        <!-- Header -->
        <div style="margin-bottom: 2rem">
          <div
            style="
              display: flex;
              align-items: center;
              gap: 0.75rem;
              margin-bottom: 0.5rem;
            "
          >
            <svg
              style="width: 2rem; height: 2rem; color: rgb(96 165 250)"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
              ></path>
            </svg>
            <h1 style="font-size: 2.25rem; font-weight: bold">API de Posts</h1>
          </div>
          <p style="color: rgb(148 163 184); font-size: 1.125rem">
            Documentación completa para la gestión de posts
          </p>
        </div>

        <!-- Info Cards -->
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
          "
        >
          <div
            style="
              background: rgba(30, 41, 59, 0.5);
              backdrop-filter: blur(10px);
              border-radius: 0.5rem;
              padding: 1rem;
              border: 1px solid rgb(51 65 85);
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                gap: 0.5rem;
                margin-bottom: 0.5rem;
              "
            >
              <svg
                style="width: 1.25rem; height: 1.25rem; color: rgb(96 165 250)"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
              <h3 style="font-weight: 600">Base URL</h3>
            </div>
            <code style="font-size: 0.875rem; color: rgb(203 213 225)"
              >https://tudominio.com/api.php</code
            >
          </div>

          <div
            style="
              background: rgba(30, 41, 59, 0.5);
              backdrop-filter: blur(10px);
              border-radius: 0.5rem;
              padding: 1rem;
              border: 1px solid rgb(51 65 85);
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                gap: 0.5rem;
                margin-bottom: 0.5rem;
              "
            >
              <svg
                style="width: 1.25rem; height: 1.25rem; color: rgb(250 204 21)"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                ></path>
              </svg>
              <h3 style="font-weight: 600">Autenticación</h3>
            </div>
            <p style="font-size: 0.875rem; color: rgb(203 213 225)">
              Header: <code>Authorization</code>
            </p>
          </div>

          <div
            style="
              background: rgba(30, 41, 59, 0.5);
              backdrop-filter: blur(10px);
              border-radius: 0.5rem;
              padding: 1rem;
              border: 1px solid rgb(51 65 85);
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                gap: 0.5rem;
                margin-bottom: 0.5rem;
              "
            >
              <svg
                style="width: 1.25rem; height: 1.25rem; color: rgb(34 197 94)"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
                ></path>
              </svg>
              <h3 style="font-weight: 600">Formato</h3>
            </div>
            <p style="font-size: 0.875rem; color: rgb(203 213 225)">
              JSON (application/json)
            </p>
          </div>
        </div>

        <!-- Endpoints -->
        <div
          style="
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 0.5rem;
            border: 1px solid rgb(51 65 85);
            overflow: hidden;
          "
        >
          <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 0">
            <!-- Sidebar -->
            <div
              style="
                background: rgba(30, 41, 59, 0.5);
                border-right: 1px solid rgb(51 65 85);
              "
            >
              <div
                style="padding: 1rem; border-bottom: 1px solid rgb(51 65 85)"
              >
                <h2 style="font-weight: 600; font-size: 1.125rem">Endpoints</h2>
              </div>
              <div style="padding: 0.5rem" id="endpoints-menu"></div>
            </div>

            <!-- Content -->
            <div style="padding: 1.5rem" id="endpoint-content"></div>
          </div>
        </div>

        <!-- Error Codes -->
        <div
          style="
            margin-top: 2rem;
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 0.5rem;
            border: 1px solid rgb(51 65 85);
            padding: 1.5rem;
          "
        >
          <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem">
            Códigos de respuesta
          </h2>
          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
              gap: 1rem;
            "
          >
            <div style="display: flex; align-items: start; gap: 0.75rem">
              <span
                style="
                  background: rgb(34 197 94);
                  color: white;
                  font-size: 0.75rem;
                  font-weight: bold;
                  padding: 0.25rem 0.5rem;
                  border-radius: 0.25rem;
                "
                >200</span
              >
              <div>
                <p style="font-weight: 600">OK</p>
                <p style="font-size: 0.875rem; color: rgb(148 163 184)">
                  Petición exitosa
                </p>
              </div>
            </div>
            <div style="display: flex; align-items: start; gap: 0.75rem">
              <span
                style="
                  background: rgb(34 197 94);
                  color: white;
                  font-size: 0.75rem;
                  font-weight: bold;
                  padding: 0.25rem 0.5rem;
                  border-radius: 0.25rem;
                "
                >201</span
              >
              <div>
                <p style="font-weight: 600">Created</p>
                <p style="font-size: 0.875rem; color: rgb(148 163 184)">
                  Recurso creado exitosamente
                </p>
              </div>
            </div>
            <div style="display: flex; align-items: start; gap: 0.75rem">
              <span
                style="
                  background: rgb(234 179 8);
                  color: white;
                  font-size: 0.75rem;
                  font-weight: bold;
                  padding: 0.25rem 0.5rem;
                  border-radius: 0.25rem;
                "
                >400</span
              >
              <div>
                <p style="font-weight: 600">Bad Request</p>
                <p style="font-size: 0.875rem; color: rgb(148 163 184)">
                  Parámetros inválidos o faltantes
                </p>
              </div>
            </div>
            <div style="display: flex; align-items: start; gap: 0.75rem">
              <span
                style="
                  background: rgb(239 68 68);
                  color: white;
                  font-size: 0.75rem;
                  font-weight: bold;
                  padding: 0.25rem 0.5rem;
                  border-radius: 0.25rem;
                "
                >401</span
              >
              <div>
                <p style="font-weight: 600">Unauthorized</p>
                <p style="font-size: 0.875rem; color: rgb(148 163 184)">
                  API key inválida o no proporcionada
                </p>
              </div>
            </div>
            <div style="display: flex; align-items: start; gap: 0.75rem">
              <span
                style="
                  background: rgb(239 68 68);
                  color: white;
                  font-size: 0.75rem;
                  font-weight: bold;
                  padding: 0.25rem 0.5rem;
                  border-radius: 0.25rem;
                "
                >405</span
              >
              <div>
                <p style="font-weight: 600">Method Not Allowed</p>
                <p style="font-size: 0.875rem; color: rgb(148 163 184)">
                  Método HTTP no soportado
                </p>
              </div>
            </div>
            <div style="display: flex; align-items: start; gap: 0.75rem">
              <span
                style="
                  background: rgb(239 68 68);
                  color: white;
                  font-size: 0.75rem;
                  font-weight: bold;
                  padding: 0.25rem 0.5rem;
                  border-radius: 0.25rem;
                "
                >500</span
              >
              <div>
                <p style="font-weight: 600">Internal Server Error</p>
                <p style="font-size: 0.875rem; color: rgb(148 163 184)">
                  Error en el servidor
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const endpoints = [
        {
          method: "GET",
          path: "/api.php",
          title: "Obtener todos los posts",
          description:
            "Retorna una lista paginada de posts ordenados por fecha de creación.",
          params: [
            {
              name: "limit",
              type: "integer",
              required: false,
              default: "10",
              description: "Número de posts por página",
            },
            {
              name: "page",
              type: "integer",
              required: false,
              default: "1",
              description: "Número de página",
            },
          ],
          example: `curl -X GET "https://tudominio.com/api.php?limit=5&page=1" \\
  -H "Authorization: my-secret-api-key"`,
          response: `[
  {
    "id": 1,
    "title": "Mi primer post",
    "content": "Contenido del post...",
    "status": "published",
    "created_at": "2025-10-25 10:30:00"
  }
]`,
        },
        {
          method: "GET",
          path: "/api.php?id={id}",
          title: "Obtener un post específico",
          description: "Retorna los detalles de un post individual.",
          params: [
            {
              name: "id",
              type: "integer",
              required: true,
              description: "ID del post a consultar",
            },
          ],
          example: `curl -X GET "https://tudominio.com/api.php?id=1" \\
  -H "Authorization: my-secret-api-key"`,
          response: `{
  "id": 1,
  "title": "Mi primer post",
  "content": "Contenido del post...",
  "status": "published",
  "created_at": "2025-10-25 10:30:00"
}`,
        },
        {
          method: "POST",
          path: "/api.php",
          title: "Crear un nuevo post",
          description: "Crea un nuevo post en la base de datos.",
          params: [
            {
              name: "title",
              type: "string",
              required: true,
              description: "Título del post",
            },
            {
              name: "content",
              type: "string",
              required: false,
              description: "Contenido del post",
            },
            {
              name: "status",
              type: "string",
              required: true,
              description: "Estado del post (ej: published, draft)",
            },
          ],
          example: `curl -X POST "https://tudominio.com/api.php" \\
  -H "Authorization: my-secret-api-key" \\
  -H "Content-Type: application/json" \\
  -d '{
    "title": "Nuevo post",
    "content": "Contenido aquí",
    "status": "published"
  }'`,
          response: `{
  "id": 5,
  "title": "Nuevo post",
  "content": "Contenido aquí",
  "status": "published",
  "created_at": "2025-10-25 12:00:00"
}`,
        },
        {
          method: "PUT",
          path: "/api.php",
          title: "Actualizar un post",
          description: "Actualiza el título y contenido de un post existente.",
          params: [
            {
              name: "id",
              type: "integer",
              required: true,
              description: "ID del post a actualizar",
            },
            {
              name: "title",
              type: "string",
              required: true,
              description: "Nuevo título",
            },
            {
              name: "content",
              type: "string",
              required: true,
              description: "Nuevo contenido",
            },
          ],
          example: `curl -X PUT "https://tudominio.com/api.php" \\
  -H "Authorization: my-secret-api-key" \\
  -H "Content-Type: application/json" \\
  -d '{
    "id": 1,
    "title": "Título actualizado",
    "content": "Contenido actualizado"
  }'`,
          response: `{
  "message": "Post actualizado exitosamente"
}`,
        },
        {
          method: "DELETE",
          path: "/api.php",
          title: "Eliminar un post",
          description: "Elimina permanentemente un post de la base de datos.",
          params: [
            {
              name: "id",
              type: "integer",
              required: true,
              description: "ID del post a eliminar",
            },
          ],
          example: `curl -X DELETE "https://tudominio.com/api.php" \\
  -H "Authorization: my-secret-api-key" \\
  -H "Content-Type: application/json" \\
  -d '{"id": 1}'`,
          response: `{
  "message": "Post eliminado exitosamente"
}`,
        },
      ];

      const methodColors = {
        GET: "rgb(59 130 246)",
        POST: "rgb(34 197 94)",
        PUT: "rgb(234 179 8)",
        DELETE: "rgb(239 68 68)",
      };

      let activeEndpoint = 0;

      function copyToClipboard(text, btnId) {
        navigator.clipboard.writeText(text).then(() => {
          const btn = document.getElementById(btnId);
          const originalHTML = btn.innerHTML;
          btn.innerHTML = `
                    <svg style="width: 1rem; height: 1rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    Copiado
                `;
          setTimeout(() => {
            btn.innerHTML = originalHTML;
          }, 2000);
        });
      }

      function renderEndpoint(index) {
        const endpoint = endpoints[index];
        const content = document.getElementById("endpoint-content");

        const paramsTable = endpoint.params
          .map(
            (param) => `
                <tr style="border-top: 1px solid rgb(51 65 85);">
                    <td style="padding: 0.75rem;">
                        <code style="color: rgb(96 165 250);">${
                          param.name
                        }</code>
                    </td>
                    <td style="padding: 0.75rem; color: rgb(148 163 184);">${
                      param.type
                    }</td>
                    <td style="padding: 0.75rem;">
                        <span style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; ${
                          param.required
                            ? "background: rgba(239, 68, 68, 0.2); color: rgb(252 165 165);"
                            : "background: rgb(51 65 85); color: rgb(148 163 184);"
                        }">
                            ${param.required ? "Sí" : "No"}
                        </span>
                    </td>
                    <td style="padding: 0.75rem; color: rgb(148 163 184);">
                        ${param.description}
                        ${
                          param.default
                            ? `<span style="font-size: 0.75rem; color: rgb(100 116 139); margin-left: 0.5rem;">(default: ${param.default})</span>`
                            : ""
                        }
                    </td>
                </tr>
            `
          )
          .join("");

        content.innerHTML = `
                <div>
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                        <span style="background: ${
                          methodColors[endpoint.method]
                        }; font-size: 0.875rem; font-weight: bold; padding: 0.25rem 0.75rem; border-radius: 0.25rem; color: white;">
                            ${endpoint.method}
                        </span>
                        <code style="color: rgb(203 213 225);">${
                          endpoint.path
                        }</code>
                    </div>

                    <h2 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem;">${
                      endpoint.title
                    }</h2>
                    <p style="color: rgb(148 163 184); margin-bottom: 1.5rem;">${
                      endpoint.description
                    }</p>

                    <div style="margin-bottom: 1.5rem;">
                        <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Parámetros</h3>
                        <div style="background: rgba(15, 23, 42, 0.5); border-radius: 0.5rem; overflow: hidden;">
                            <table style="width: 100%; font-size: 0.875rem; border-collapse: collapse;">
                                <thead style="background: rgb(30 41 59);">
                                    <tr>
                                        <th style="text-align: left; padding: 0.75rem;">Nombre</th>
                                        <th style="text-align: left; padding: 0.75rem;">Tipo</th>
                                        <th style="text-align: left; padding: 0.75rem;">Requerido</th>
                                        <th style="text-align: left; padding: 0.75rem;">Descripción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${paramsTable}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                            <h3 style="font-size: 1.125rem; font-weight: 600;">Ejemplo de petición</h3>
                            <button id="copy-req-${index}" onclick="copyToClipboard(\`${endpoint.example.replace(
          /`/g,
          "\\`"
        )}\`, 'copy-req-${index}')" style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; color: rgb(148 163 184); background: none; border: none; cursor: pointer; transition: color 0.2s;">
                                <svg style="width: 1rem; height: 1rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                Copiar
                            </button>
                        </div>
                        <pre style="background: rgb(15 23 42); border-radius: 0.5rem; padding: 1rem; overflow-x: auto; border: 1px solid rgb(51 65 85);"><code style="font-size: 0.875rem; color: rgb(74 222 128);">${
                          endpoint.example
                        }</code></pre>
                    </div>

                    <div>
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                            <h3 style="font-size: 1.125rem; font-weight: 600;">Respuesta exitosa</h3>
                            <button id="copy-res-${index}" onclick="copyToClipboard(\`${endpoint.response.replace(
          /`/g,
          "\\`"
        )}\`, 'copy-res-${index}')" style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; color: rgb(148 163 184); background: none; border: none; cursor: pointer; transition: color 0.2s;">
                                <svg style="width: 1rem; height: 1rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                Copiar
                            </button>
                        </div>
                        <pre style="background: rgb(15 23 42); border-radius: 0.5rem; padding: 1rem; overflow-x: auto; border: 1px solid rgb(51 65 85);"><code style="font-size: 0.875rem; color: rgb(203 213 225);">${
                          endpoint.response
                        }</code></pre>
                    </div>
                </div>
            `;
      }

      function renderMenu() {
        const menu = document.getElementById("endpoints-menu");
        menu.innerHTML = endpoints
          .map(
            (endpoint, index) => `
                <button onclick="selectEndpoint(${index})" id="menu-${index}" style="width: 100%; text-align: left; padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.5rem; transition: all 0.2s; background: ${
              index === 0 ? "rgb(51 65 85)" : "transparent"
            }; border-left: ${
              index === 0
                ? "4px solid rgb(59 130 246)"
                : "4px solid transparent"
            }; border: none; cursor: pointer; color: white;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem;">
                        <span style="background: ${
                          methodColors[endpoint.method]
                        }; font-size: 0.75rem; font-weight: bold; padding: 0.25rem 0.5rem; border-radius: 0.25rem; color: white;">
                            ${endpoint.method}
                        </span>
                    </div>
                    <p style="font-size: 0.875rem; color: rgb(203 213 225); margin: 0;">${
                      endpoint.title
                    }</p>
                </button>
            `
          )
          .join("");
      }

      function selectEndpoint(index) {
        endpoints.forEach((_, i) => {
          const btn = document.getElementById(`menu-${i}`);
          if (i === index) {
            btn.style.background = "rgb(51 65 85)";
            btn.style.borderLeft = "4px solid rgb(59 130 246)";
          } else {
            btn.style.background = "transparent";
            btn.style.borderLeft = "4px solid transparent";
          }
        });
        activeEndpoint = index;
        renderEndpoint(index);
      }

      renderMenu();
      renderEndpoint(0);
    </script>
  </body>
</html>
